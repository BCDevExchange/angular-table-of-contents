angular.module("angular-toc",[]),angular.module("angular-toc").directive("bdToc",["$timeout","$compile",function(a,b){var c=function(a){return{$el:angular.element(a),slug:function(a){return a.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")},render:function(){var a=this.$el.text();this.$el.attr("id",this.slug(a));var b='<li du-scrollspy="'+this.slug(a)+'"><a href="#'+this.slug(a)+'" du-smooth-scroll offset="70">'+a+"</a></li>";return b}}};return{restrict:"E",link:function(d,e,f){a(function(){var a=f.selector||".toc-item",g=document.querySelectorAll(a);e.append('<ul class="nav" />'),angular.forEach(g,function(a){a.offsetHeight>0&&e.find("ul").append(b(new c(a).render())(d))})}),d.$watch(function(){return document.body.innerHTML},function(){var a=f.selector||".toc-item",g=document.querySelectorAll(a);e.html(""),e.append('<ul class="nav" />'),angular.forEach(g,function(a){a.offsetHeight>0&&e.find("ul").append(b(new c(a).render())(d))}),$("body").scrollspy("refresh")})}}}]);